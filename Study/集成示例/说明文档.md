# PDF.JS 集成示例

本文件夹提供了两种在Web项目中集成PDF.JS的完整示例：

## 📋 示例文件说明

### 1. 核心库集成示例 (`core-integration.html`)

- **功能**：直接使用PDF.JS核心API进行自定义PDF渲染
- **特点**：轻量级、高度自定义、适合需要特定界面设计的项目
- **包含功能**：PDF加载、页面渲染、翻页控制

### 2. 完整查看器集成示例 (`viewer-integration.html`)

- **功能**：集成预构建的PDF.JS完整查看器
- **特点**：开箱即用、功能完整、包含标准UI组件
- **包含功能**：工具栏、侧边栏、缩放、搜索等完整功能

## 📁 核心文件说明

### 核心库文件（编译后）

- `pdf.mjs` - 主库文件，包含PDF.JS核心功能
- `pdf.worker.mjs` - Worker文件，处理PDF解析和渲染

### 查看器文件（编译后）

- `viewer.html` - 查看器主页面
- `viewer.js` - 查看器脚本
- `viewer.css` - 查看器样式
- `pdfjs.js` - 查看器入口文件

## 🚀 快速开始

### 步骤1：编译PDF.JS

确保PDF.JS已正确编译：

```bash
# 在PDF.JS项目根目录执行
npx gulp server
```

### 步骤2：获取编译文件

编译完成后，从以下目录获取所需文件：

- 核心库文件：`build/dev/build/`
- 查看器文件：`build/dev/web/`

### 步骤3：集成到项目

根据需求选择集成方式：

**方式一：核心库集成（推荐用于自定义项目）**

- 复制 `pdf.mjs` 和 `pdf.worker.mjs` 到项目目录
- 参考 `core-integration.html` 示例代码

**方式二：完整查看器集成（推荐用于快速集成）**

- 复制整个 `web/` 目录到项目
- 使用iframe或直接集成方式
- 参考 `viewer-integration.html` 示例代码

### 步骤4：测试运行

直接在浏览器中打开示例HTML文件进行测试：

- 打开 `core-integration.html` 测试核心库功能
- 打开 `viewer-integration.html` 测试完整查看器

## 📚 详细指南

如需更详细的集成说明、API文档和高级配置，请查看：

- `INTEGRATION_GUIDE.md` - 完整集成指南文档

## 💡 注意事项

1. **路径配置**：确保文件路径正确，特别是Worker文件路径
2. **CORS设置**：如果加载跨域PDF文件，需要服务器配置CORS
3. **浏览器兼容性**：支持现代浏览器（Chrome 60+、Firefox 55+、Safari 11+等）
4. **性能优化**：对于大文件，建议使用按需加载和延迟渲染

## 🆘 常见问题

**Q: 直接打开HTML文件报CORS错误怎么办？**
A: 这是浏览器安全限制，必须通过HTTP服务器运行：

```bash
# 在PDF.JS项目根目录执行
npx gulp server
# 然后通过 http://localhost:8888/Study/INTEGRATION_EXAMPLES/ 访问
```

**Q: Worker文件加载失败怎么办？**
A: 检查 `workerSrc` 路径是否正确，确保服务器支持.mjs文件类型

**Q: PDF文件无法加载怎么办？**
A: 检查文件路径、CORS设置，确保PDF文件没有损坏

**Q: 渲染效果异常怎么办？**
A: 检查浏览器控制台错误信息，调整Canvas尺寸和缩放比例
